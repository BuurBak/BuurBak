# BuurBak
BuurBak webapp voor het huren en verhuren van aanhangers!

Frontend built in [React](https://reactjs.org)

Backend built in [Spring Boot](https://spring.io/projects/spring-boot)

# Running BuurBak
## Requirements
| Category | Name | Version | Link | Description |
| --- | --- | --- | --- | --- |
| Dev | Temurin JDK | 17.0.4.1 | https://adoptium.net/installation/ | We use Temurin as our JDK for the backend |
| Dev | Node | 16.8.1 | https://nodejs.org/download/release/v16.18.1/ | Our frontend is developed in React node 16 |
| Dev | Maildev | 2.0.5 | https://github.com/maildev/maildev | Maildev is used in development to catch all outgoing emails |
| Dev | PostgreSQL | 14 | https://www.postgresql.org | PostgreSQL is our database for both development as production. |
| Testing | Docker | 20.10.20 | https://www.docker.com/products/docker-desktop/ | You can use the latest docker desktop to run the application in a mock production environment on your local machine. You can use this environment to test your new features before pushing them to production. |

## Environment variables

| Location | Name | Example value | Type | Description |
| ----------- | ----------- | ----------- | ----------- | ----------- |
| Backend | DATABASE_NAME | buurbak | String | |
| Backend | DATABASE_USERNAME | buurbak | String | |
| Backend | DATABASE_PASSWORD | buurbak | String | |
| Backend | DATABASE_HOST | localhost | String | |
| Backend | MAIL_HOST | localhost | String | |
| Backend | GCP_AUTH_FILE | {...} | INLINE_JSON_STRING | Ask Luca @spark-156 for the auth file, necessary for local development for google cloud storage bucket. |
| Backend | GCP_BUCKET_DIR_NAME | dev | String | `dev` for development |
| Backend | GCP_BUCKET_ID | buurbak_public | String | bucket id generated by google |
| Backend | GCP_PROJECT_ID | celestial-sonar-365614 | String | project-id generated by google |
| Backend | RANDOM_DATA | false | Boolean | Wether or not the application should randomly generate data, for testing purposes, also generates a standard user in with username/email=`lucabergman@yahoo.com` and password=`hallo123` which you can quickly use for testing purposes |
| Backend | JWT_SECRET | secret | String | JWT secret for generating access tokens | 
| Backend | PORT | 8000 | Integer | Active port to listen on |
| Backend | SPRING_PROFILES_ACTIVE | dev | String | Active spring boot profile, `dev` for development, `prod` for production (only works on gcp run) |

Ask @spark-156 for a copy of the environment variables for quick setup.

## Running development environment locally 
You can skip the downloading of PostgreSQL and maildev locally by running them inside of docker. To do so please run the commands: `docker compose up` in your terminal. That will launch all the requirements for the backend. You can access maildev under `http://mail.localhost/` and an instance of adminer under `http://adminer.localhost/`. You can find the hostname, username and password for the database in the `docker-compose.yml` file.

# Contributing to BuurBak
## We Develop with Github
We use github to host code, to track issues and feature requests, as well as accept pull requests.

## We Use [Github Flow](https://guides.github.com/introduction/flow/index.html), So All Code Changes Happen Through Pull Requests
Pull requests are the best way to propose changes to the codebase (we use [Github Flow](https://guides.github.com/introduction/flow/index.html)). We actively welcome your pull requests:

1. Clone the repo and create your branch from `dev`.
2. Name the branch in the following format: ```US-XXX-name-of-user-story```.
2. If you've added code that should be tested, add tests.
3. If you've changed APIs, update the documentation.
4. Ensure the test suite passes.
5. Make sure your code lints.
6. Issue that pull request and make sure to merge into the `dev` branch!

## Report bugs using Github's [issues](https://github.com/BuurBak/BuurBak/issues)
We use GitHub issues to track public bugs. Report a bug by [opening a new issue](https://github.com/BuurBak/BuurBak/issues/new); it's that easy!

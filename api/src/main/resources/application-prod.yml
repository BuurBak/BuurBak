database: postgresql

data:
  generate-random-data: false

gcp:
  auth-file: ${sm://GCP_AUTH_FILE}

jwt-secret: ${sm://JWT_SECRET}

spring:
  datasource:
    url: jdbc:postgresql:///${DATABASE_NAME}?cloudSqlInstance=${INSTANCE_CONNECTION_NAME}&socketFactory=com.google.cloud.sql.postgres.SocketFactory
    username: ${DATABASE_USERNAME}
    password: ${sm://BUURBAK_DATABASE_PASSWORD}

  cloud:
    gcp:
      sql:
        instance-connection-name: ${INSTANCE_CONNECTION_NAME}
        database-name: ${DATABASE_NAME}

  sql:
    init:
      mode: always

  jpa:
    hibernate:
      ddl-auto: update
      properties:
        hibernate:
          dialect: org.hibernate.dialect.PostgreSQLDialect
          format_sql: true
      show-sql: false

  mail:
    host: localhost
    username: ${MAIL_USERNAME}
    password: ${sm://MAIL_PASSWORD}
    port: 1025

    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
            required: true